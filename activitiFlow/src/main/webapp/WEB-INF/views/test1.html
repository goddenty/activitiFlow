<!DOCTYPE html>
<html ng-app="myApp">
 <head ng-controller="headCtr">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<script type="text/javascript" >
		//获取当前网址，如： http://localhost:8080/ems/Pages/Basic/Person.jsp
	    var curWwwPath = window.document.location.href;
		console.log(curWwwPath);
	    //获取主机地址之后的目录，如： /ems/Pages/Basic/Person.jsp
	    var pathName = window.document.location.pathname;
	    console.log(pathName);
	    var pos = curWwwPath.indexOf(pathName);
	    //获取主机地址，如： http://localhost:8080
	    var localhostPath = curWwwPath.substring(0, pos);
	    //获取带"/"的项目名，如：/ems
	    var projectName = pathName.substring(0, pathName.substr(1).indexOf('/') + 1);
	    //获取项目的basePath   http://localhost:8080/ems/
	    var basePath=localhostPath+projectName+"/";
	</script>
	<base href="{{pathName}}">
	<title>angular测试页面</title>
 </head>
 
 <body >
   <div ng-controller="myCtr">
     <h1>这是一个测试页面</h1>
	 <h1>{{msg | uppercase}}</h1>
	 <h1>{{pathName}}</h1>
	 <select>
		<option ng-repeat="x in names | orderBy:'Name'" value="{{x.age | number:2}}">{{x.Name}}</option>
	</select>
	 <table >
	  <tr ng-repeat="x in names | orderBy:'Name'" >
		<td style="border:1px solid red">{{ x.Name }}</td>
		<td style="border:1px solid red">{{ x.Country }}</td>
	  </tr>
	</table>
	  <p>form = {{user}}</p>
	  <p>master = {{master}}</p>
   </div>
  <script src="../js/angular.js"></script>
  <script type="text/javascript">
  	angular.module('myApp',[])
  	.controller('headCtr',function($scope,$http){
  		$scope.pathName=pathName;
  	})
  	.controller('myCtr',function($scope,$http){
	      $scope.msg="hello kitty";
		  $scope.names =[{Name:'zhangsan',Country:'china',age:12},
						 {Name:'lisi',Country:'china',age:29},
						 {Name:'wangwu',Country:'china',age:32},
						 {Name:'zhaoliu',Country:'china',age:18}];
		  $scope.master = {firstName: "John", lastName: "Doe"};
		  $scope.reset = function() {
			 $scope.user = angular.copy($scope.master);
		  };
		  
		  $scope.reset();
	       console.log($http);
	       $http({
	    	   url:"localhost:8080/activitiFlow/angular/test2",
	    	   param:{
	    		   id:12345
	    	   }
	       });
	  });
	  
  </script>
 </body>
</html>